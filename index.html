<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Podcast</title>
    <link rel="icon" href="img/icon.png">

    <style type="text/css">
        /* MIN https://mincss.com/  */
        /* Copyright 2014 Owen Versteeg; MIT licensed */body,textarea,input,select{background:0;border-radius:0;font:16px sans-serif;margin:0}.smooth{transition:all .2s}.btn,.nav a{text-decoration:none}.container{margin:0 20px;width:auto}label>*{display:inline}form>*{display:block;margin-bottom:10px}.btn{background:#999;border-radius:6px;border:0;color:#fff;cursor:pointer;display:inline-block;margin:2px 0;padding:12px 30px 14px}.btn:hover{background:#888}.btn:active,.btn:focus{background:#777}.btn-a{background:#0ae}.btn-a:hover{background:#09d}.btn-a:active,.btn-a:focus{background:#08b}.btn-b{background:#3c5}.btn-b:hover{background:#2b4}.btn-b:active,.btn-b:focus{background:#2a4}.btn-c{background:#d33}.btn-c:hover{background:#c22}.btn-c:active,.btn-c:focus{background:#b22}.btn-sm{border-radius:4px;padding:10px 14px 11px}.row{margin:1% 0;overflow:auto}.col{float:left}.table,.c12{width:100%}.c11{width:91.66%}.c10{width:83.33%}.c9{width:75%}.c8{width:66.66%}.c7{width:58.33%}.c6{width:50%}.c5{width:41.66%}.c4{width:33.33%}.c3{width:25%}.c2{width:16.66%}.c1{width:8.33%}h1{font-size:3em}.btn,h2{font-size:2em}.ico{font:33px Arial Unicode MS,Lucida Sans Unicode}.addon,.btn-sm,.nav,textarea,input,select{outline:0;font-size:14px}textarea,input,select{padding:8px;border:1px solid #ccc}textarea:focus,input:focus,select:focus{border-color:#5ab}textarea,input[type=text]{-webkit-appearance:none;width:13em}.addon{padding:8px 12px;box-shadow:0 0 0 1px #ccc}.nav,.nav .current,.nav a:hover{background:#000;color:#fff}.nav{height:24px;padding:11px 0 15px}.nav a{color:#aaa;padding-right:1em;position:relative;top:-1px}.nav .pagename{font-size:22px;top:1px}.btn.btn-close{background:#000;float:right;font-size:25px;margin:-54px 7px;display:none}@media(min-width:1310px){.container{margin:auto;width:1270px}}@media(max-width:350px){.row .col{width:100%}}@media(max-width:500px){.btn.btn-close{display:block}.nav{overflow:hidden}.pagename{margin-top:-11px}.nav:active,.nav:focus{height:auto}.nav div:before{background:#000;border-bottom:10px double;border-top:3px solid;content:'';float:right;height:4px;position:relative;right:3px;top:14px;width:20px}.nav a{padding:.5em 0;display:block;width:50%}}.table th,.table td{padding:.5em;text-align:left}.table tbody>:nth-child(2n-1){background:#ddd}.msg{padding:1.5em;background:#def;border-left:5px solid #59d}

        .home-menu{padding:.5em;text-align:left;box-shadow:0 1px 1px rgba(0,0,0,0.10)}
        .home-menu.pure-menu-open{background:#2d3e50}
        .pure-menu.pure-menu-open.pure-menu-fixed{border-bottom:none;z-index:4}
        .home-menu .pure-menu-heading{color:#fff;font-weight:400;font-size:120%}
        .home-menu .pure-menu-selected a{color:#fff}
        .home-menu a{color:#6FBEF3}
        .home-menu li a:hover,.home-menu li a:focus{background:none;border:none;color:#AECFE5}
        .content{padding:25px;padding-top:50px}
        .pure-button{margin-bottom:5px}
        .pure-button.pista{margin-bottom:15px;white-space:normal;width:100%;text-align:left;}
        #listado li{list-style-type:none}
        #listado{margin:0;padding:0}
        .none{display:none}
        .visto{display:inline}
        .text-center{text-align:center;}
        .content{padding:10px;}
        hr{width: 100%}
        #titulo{display:block;}
        select{background:#fff;}
        summary{font-size: 18px;}

        #listado button{margin-bottom:10px;}
        .btn{color:#000;background:#e6e6e6}.text-center{text-align:center}.text-right{text-align:right}h3{margin:5px}.header{display:flex;align-items:center;justify-content:space-between;background:#2d3e50;color:#fff;padding-left:10px;padding-right:10px;height:40px;}.justify-center{display:flex;align-items:center;justify-content:center}.justify-around{display:flex;align-items:center;justify-content:space-around;}@keyframes spinner{to{transform:rotate(360deg)}}.spinner:before{content:'';box-sizing:border-box;display:block;top:50%;left:50%;width:50px;height:50px;border-radius:50%;border:2px solid #ccc;border-top-color:#333;animation:spinner .6s linear infinite}.hide{display:none!important}#offline-warning{background:#fc0;color:#000;text-align:center;font-weight:700;padding:50px 10px}summary{cursor:pointer;font-weight:700;padding-bottom:5px;user-select:none;text-align:center;margin-bottom:10px;}body{background:#fff;color:#000;font-size:15px;}body.dark{background:#000;color:#fff}.checkbox{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:22px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.checkbox input{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark{position:absolute;top:0;left:10px;height:25px;width:25px;background-color:#eee}.checkbox:hover input~.checkmark{background-color:#ccc}.checkbox input:checked~.checkmark{background-color:#5d7385}.checkmark:after{content:"";position:absolute;display:none}.checkbox input:checked~.checkmark:after{display:block}.checkbox .checkmark:after{left:9px;top:5px;width:5px;height:10px;border:solid #fff;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}#config{position:fixed;top:31px;left:-100%;width:100%;height: calc(100% - 31px);background:#fff;color:#000;font-size:15px;box-shadow:2px 0 5px rgb(0 0 0 / .3);overflow-y:auto;transition:left 0.3s ease;z-index:1000}body.dark #config {background:#000;color:#fff} body.dark input{background:#fff;color:#000;border:none;font-size:18px;}body input{background:#d1c7c7;;border:none;font-size:18px;}#config.show{left:0}#configToggle{cursor:pointer;z-index:1100}
            btn:active,.btn:focus{background:#c3c3c3}
        .inputConfig { min-width:90%;margin-left:10px;}.deleteE, .editE { padding:5px;;margin-right:10px;}body.noscroll {overflow: hidden;}.btn.oir {font-weight:bold;background:#999;}.btn.pista {width: 100%;}.justify-between{display:flex;align-items:center;justify-content:space-between;}.marcarOido,.marcarOido:hover,.marcarOido.oir {opacity: 0.25;cursor: none;background-image:url('./img/headphones.png');width:35px;height:35px;background-position:center;background-repeat:no-repeat;}.marcarOido.oir {opacity: 1;cursor: pointer;}
        #customModal {position: fixed;top: 0; left: 0; right: 0; bottom: 0;display: flex;justify-content: center;align-items: center;z-index: 2000;}
        #customModal .modal-backdrop {position: absolute;top:0; left:0; right:0; bottom:0;background: rgba(0,0,0,0.5);}
        #customModal .modal-content {position: relative;background: white;padding: 20px;border-radius: 10px;min-width: 300px;z-index: 2100;text-align: center;}        
        body.dark #customModal .modal-content {background: black;}#customModal .modal-buttons {margin-top: 20px;}#customModal button {margin: 0 10px;padding: 5px 15px;}
        #play,#rewind,#forward{background-color:transparent;background-repeat: no-repeat;background-position:center;    background-size: contain;     border: none;}
        #rewind{background-image:url("./img/rewind.png");}
        #play{background-image:url("./img/pause.png");}
        #forward{background-image:url("./img/forward.png");}
        #play.play{background-image:url("./img/play.png");}
        body.dark #play,body.dark #rewind,body.dark #forward{filter: invert(1);}
        /* Oculta el botón play/pause en navegadores WebKit/Blink */
        audio::-webkit-media-controls-play-button,
        audio::-webkit-media-controls-start-playback-button,
        audio::-webkit-media-controls-overlay-play-button {
          display: none !important;
          -webkit-appearance: none !important;
          width: 0 !important;
          height: 0 !important;
          opacity: 0 !important;
          pointer-events: none !important;
        }

        /* Opcional: reducir espacio que dejaba el botón para que la barra no se vea con hueco */
        audio::-webkit-media-controls-panel {
          /* ajustar padding si quieres compactar (prueba valores) */
          padding-left: 6px !important;
        }

        /* Mantén visibles otros controles (timeline, tiempo, volumen) */
        audio::-webkit-media-controls-timeline,
        audio::-webkit-media-controls-current-time-display,
        audio::-webkit-media-controls-time-remaining-display,
        audio::-webkit-media-controls-volume-slider {
          display: block !important;
        }
    </style>
    <script src="js/zepto.min.js"></script>
</head>

<body>
    <div class="header">
        <div id="configToggle"><img src="./img/menu.png" alt="Config" width="30"></div>
        <div><h3 class="content-head is-center">OnePod</h3></div>
        <div><a href="https://github.com/salvacam/Scorizer" title="GitHub" target="_blank" rel="noopener"><img src="./img/github.png" alt="GitHub" height="25"></a></div>
    </div>

    <div id="offline-warning" style="display:none;">Sin conexión. Comprueba tu red.</div>

    <div class="content-wrapper">

        <div class="row" id="config">
            <div id="" class="text-center col c6" style="margin-top: 10px;">
                <label class="checkbox">Modo oscuro
                  <input type="checkbox" name="darkMode" id="darkMode">
                  <span class="checkmark"></span>
                </label>
            </div>
            <br>

            <div id="" class="col c12">
                <hr/>
                <select id="selectFeed" class="inputConfig">
                    <option value="">Seleeciona un feed</option>
                    <!-- <option value="https://api.rtve.es/api/programas/46690/audios.rss">Fallo de sistema</option> -->
                    <option value="https://api.rtve.es/api/programas/176750/audios.rss">Escalofrío</option>
                    <option value="https://api.rtve.es/api/programas/166051/audios.rss">Escalera de caracol</option>
                    <option value="https://api.rtve.es/api/programas/140970/audios.rss">Historias para imaginar</option>
                    <option value="https://api.rtve.es/api/programas/105090/audios.rss">La vuelta al mundo en 80 enigmas</option>
                    <option value="https://api.rtve.es/api/programas/134675/audios.rss">Frankenstein o el moderno Prometeo</option>
                    <option value="https://api.rtve.es/api/programas/149510/audios.rss">La sombra</option>
                    <option value="https://api.rtve.es/api/programas/101810/audios.rss">Episodios Nacionales</option>
                    <option value="https://api.rtve.es/api/programas/47462/audios.rss">Tris tras tres</option>
                    <option value="https://salvacam.x10.mx/ytPHP/feed.php">YT</option>
                </select>

                <div class="text-center"><h4>Feed</h4></div>
                <div><input id="nombreInput" type="text" class="smooth inputConfig" placeholder="Nombre" value=""></div><br>
                <div><input id="feedInput" type="text" class="smooth inputConfig" placeholder="RSS" value="" >
                </div><br>
                <div class="text-right" style="margin-right:10px"><button id="editFeed" class="btn btn-sm smooth" style="padding:5px;border:none;"><img src="./img/edit.png" alt="Añadir" width="30"></button>
                </div>                
                <hr/>
            </div>
        </div>

        <div class="content">
            <div class="pure-g">
                <div id="audioDiv" class="l-box pure-u-1 pure-u-md-1-2 pure-u-lg-1-4">
                <br/>
                <div class="text-center">
                    <button id="rewind" class="btn btn-sm smooth" style="height: 50px; width: 50px;margin-right:50px;"></button>
                    <button id='play' class='btn btn-sm smooth play' style="height: 75px; width: 75px;"></button>
                    <button id="forward" class="btn btn-sm smooth" style="height: 50px; width: 50px;margin-left:50px"></button>
                </div>
                <br/>
                <audio controls id="audio" style="width: 100%"></audio>
                <hr/>
                <div class="l-box pure-u-1 pure-u-md-1-2 pure-u-lg-1-4 text-center">
                    <button id='playLast' class='btn btn-sm smooth botones' data-mp3="" data-podcast="" data-min="">Reanudar audio</button>
                    <br/>
                    <span id="lastPodcast"></span> - <span id="lastTime"></span> min.
                </div>
                <hr/>
                <div class="l-box pure-u-1 pure-u-md-1-2 pure-u-lg-1-4">
                    <div id="listado">
                        <details open="">
                            <summary id="tituloPodcast"></summary>
                            <div id="listadoEpisodios">
                            </div>
                        </details>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal general -->
    <div id="customModal" style="display:none;">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <p id="modalMessage"></p>
            <div class="modal-buttons">
                <button id="modalOk">OK</button>
                <button id="modalCancel">Cancelar</button>
            </div>
        </div>
    </div>

    <script src="js/main.js"></script>
</body>
</html>
